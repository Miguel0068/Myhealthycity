<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Healthy City</title>

    <!-- Fuente moderna y formal -->
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600&display=swap" rel="stylesheet">

    <!-- Estilos -->
    <link rel="stylesheet" href="styles/style.css">

    <!-- Leaflet (mapa urbano) -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
</head>

<body>
    <!-- 🌙 Botón de tema -->
    <button id="theme-toggle" class="theme-btn">🌙</button>

    <div class="container">

        <!-- 🧭 SIDEBAR -->
        <aside class="sidebar">
            <div class="logo">
                <div class="logo-icon">📍</div>
                <h2>MyHealthyCity</h2>
            </div>

            <ul class="menu">
                <li data-section="home" class="active">🏠 Home</li>
                <li data-section="movilidad">🚲 Movilidad</li>
                <li data-section="contaminacion">🌫️ Contaminación</li>
                <li data-section="incidencias">⚠️ Incidencias</li>
                <li data-section="aurora">💬 Aurora</li>
            </ul>

            <footer>
                <p>NASA Space Apps 2025 🚀</p>
            </footer>
        </aside>

        <!-- 💡 CONTENIDO PRINCIPAL -->
        <main class="main-content" id="main-content">
            <!-- DASHBOARD / HOME -->
            <section class="welcome">
                <h1>🏙️ Bienvenido a <span>My Healthy City</span></h1>
                <p>Explora tu ciudad inteligente, monitorea su salud y conecta con soluciones sostenibles impulsadas por IA.</p>
                <div class="data-card">
                    <h3>🧠 Consejos de Aurora</h3>
                    <ul style="list-style: none; margin-top: 10px;">
                        <li>🚶 Da un paseo corto: tu cuerpo y la Tierra lo agradecerán.</li>
                        <li>🌳 Abraza un árbol. No arreglará el tráfico, pero te hará sonreír.</li>
                        <li>💧 Bebe agua (no café... bueno, tal vez uno para empezar el día ☕).</li>
                        <li>🌙 Incluso los satélites necesitan descansar: desconéctate un rato.</li>
                    </ul>
                </div>

                <!-- Datos urbanos -->
                <div class="city-stats">
                    <div class="stat-card">
                        🌡️ <h4>23°C</h4>
                        <p>Temperatura actual</p>
                    </div>
                    <div class="stat-card">
                        💨 <h4>Buena</h4>
                        <p>Calidad del aire</p>
                    </div>
                    <div class="stat-card">
                        🚗 <h4>Fluido</h4>
                        <p>Tráfico urbano</p>
                    </div>
                </div>

                <!-- Mapa de vista previa -->
                <div class="data-card">
                    <h3>🗺️ Vista previa del mapa urbano</h3>
                    <p>Tu ubicación aproximada y zonas urbanas activas.</p>
                    <div id="map-preview"></div>
                </div>
            </section>
        </main>
    </div>

    <!-- Script principal -->
    <script src="scripts/main.js"></script>

    <!-- 🌗 Script modo claro/oscuro -->
    <script>
        document.getElementById("theme-toggle").addEventListener("click", () => {
            document.body.classList.toggle("dark-mode");
            const isDark = document.body.classList.contains("dark-mode");
            document.getElementById("theme-toggle").textContent = isDark ? "☀️" : "🌙";
        });
    </script>

    <!-- 🗺️ Inicialización de mapa en Home -->
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const map = L.map('map-preview').setView([0, 0], 13);

            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                maxZoom: 19,
                attribution: '&copy; OpenStreetMap contributors'
            }).addTo(map);

            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(pos => {
                    const lat = pos.coords.latitude;
                    const lon = pos.coords.longitude;
                    map.setView([lat, lon], 14);
                    L.marker([lat, lon])
                        .addTo(map)
                        .bindPopup("📍 Tu ubicación")
                        .openPopup();
                });
            }
        });
    </script>
</body>
</html>
