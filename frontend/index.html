<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Healthy City</title>

    <!-- Fuente moderna y formal -->
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600&display=swap" rel="stylesheet">

    <!-- Estilos -->
    <link rel="stylesheet" href="styles/style.css">

    <!-- Leaflet (mapa urbano) -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
</head>

<body>
    <!-- ğŸŒ™ BotÃ³n de tema -->
    <button id="theme-toggle" class="theme-btn">ğŸŒ™</button>

    <div class="container">

        <!-- ğŸ§­ SIDEBAR -->
        <aside class="sidebar">
            <div class="logo">
                <div class="logo-icon">ğŸ“</div>
                <h2>MyHealthyCity</h2>
            </div>

            <ul class="menu">
                <li data-section="home" class="active">ğŸ  Home</li>
                <li data-section="movilidad">ğŸš² Movilidad</li>
                <li data-section="contaminacion">ğŸŒ«ï¸ ContaminaciÃ³n</li>
                <li data-section="incidencias">âš ï¸ Incidencias</li>
                <li data-section="aurora">ğŸ’¬ Aurora</li>
            </ul>

            <footer>
                <p>NASA Space Apps 2025 ğŸš€</p>
            </footer>
        </aside>

        <!-- ğŸ’¡ CONTENIDO PRINCIPAL -->
        <main class="main-content" id="main-content">
            <!-- DASHBOARD / HOME -->
            <section class="welcome">
                <h1>ğŸ™ï¸ Bienvenido a <span>My Healthy City</span></h1>
                <p>Explora tu ciudad inteligente, monitorea su salud y conecta con soluciones sostenibles impulsadas por IA.</p>
                <div class="data-card">
                    <h3>ğŸ§  Consejos de Aurora</h3>
                    <ul style="list-style: none; margin-top: 10px;">
                        <li>ğŸš¶ Da un paseo corto: tu cuerpo y la Tierra lo agradecerÃ¡n.</li>
                        <li>ğŸŒ³ Abraza un Ã¡rbol. No arreglarÃ¡ el trÃ¡fico, pero te harÃ¡ sonreÃ­r.</li>
                        <li>ğŸ’§ Bebe agua (no cafÃ©... bueno, tal vez uno para empezar el dÃ­a â˜•).</li>
                        <li>ğŸŒ™ Incluso los satÃ©lites necesitan descansar: desconÃ©ctate un rato.</li>
                    </ul>
                </div>

                <!-- Datos urbanos -->
                <div class="city-stats">
                    <div class="stat-card">
                        ğŸŒ¡ï¸ <h4>23Â°C</h4>
                        <p>Temperatura actual</p>
                    </div>
                    <div class="stat-card">
                        ğŸ’¨ <h4>Buena</h4>
                        <p>Calidad del aire</p>
                    </div>
                    <div class="stat-card">
                        ğŸš— <h4>Fluido</h4>
                        <p>TrÃ¡fico urbano</p>
                    </div>
                </div>

                <!-- Mapa de vista previa -->
                <div class="data-card">
                    <h3>ğŸ—ºï¸ Vista previa del mapa urbano</h3>
                    <p>Tu ubicaciÃ³n aproximada y zonas urbanas activas.</p>
                    <div id="map-preview"></div>
                </div>
            </section>
        </main>
    </div>

    <!-- Script principal -->
    <script src="scripts/main.js"></script>

    <!-- ğŸŒ— Script modo claro/oscuro -->
    <script>
        document.getElementById("theme-toggle").addEventListener("click", () => {
            document.body.classList.toggle("dark-mode");
            const isDark = document.body.classList.contains("dark-mode");
            document.getElementById("theme-toggle").textContent = isDark ? "â˜€ï¸" : "ğŸŒ™";
        });
    </script>

    <!-- ğŸ—ºï¸ InicializaciÃ³n de mapa en Home -->
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const map = L.map('map-preview').setView([0, 0], 13);

            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                maxZoom: 19,
                attribution: '&copy; OpenStreetMap contributors'
            }).addTo(map);

            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(pos => {
                    const lat = pos.coords.latitude;
                    const lon = pos.coords.longitude;
                    map.setView([lat, lon], 14);
                    L.marker([lat, lon])
                        .addTo(map)
                        .bindPopup("ğŸ“ Tu ubicaciÃ³n")
                        .openPopup();
                });
            }
        });
    </script>
</body>
</html>
