<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Healthy City</title>

    <!-- Estilos -->
    <link rel="stylesheet" href="styles/style.css">

    <!-- Leaflet (mapa urbano) -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

    <!-- Fuente elegante -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
</head>

<body>
    <!-- ğŸŒ— BotÃ³n de modo oscuro -->
    <button id="theme-toggle" class="theme-btn">ğŸŒ™</button>

    <div class="container">

        <!-- ğŸ§­ Barra lateral -->
        <aside class="sidebar">
            <div class="logo">
                <!-- SVG de ubicaciÃ³n -->
                <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="var(--accent-color)" viewBox="0 0 24 24">
                    <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5S10.62 6.5 12 6.5s2.5 1.12 2.5 2.5S13.38 11.5 12 11.5z"/>
                </svg>
                <h2>MyHealthyCity</h2>
            </div>

            <ul class="menu">
                <li data-section="mapa">ğŸ—ºï¸ Mapa Urbano</li>
                <li data-section="movilidad">ğŸš² Movilidad</li>
                <li data-section="contaminacion">ğŸŒ«ï¸ ContaminaciÃ³n</li>
                <li data-section="incidencias">âš ï¸ Incidencias</li>
                <li data-section="micity">ğŸ¤– Micity</li>
            </ul>

            <footer>
                <p>NASA Space Apps 2025 ğŸš€</p>
            </footer>
        </aside>

        <!-- ğŸ’¡ Panel principal dinÃ¡mico -->
        <main class="main-content" id="main-content">
            <section class="welcome">
                <h1>ğŸŒ† Bienvenido a <span>My Healthy City</span></h1>
                <p class="intro">
                    Explora tu ciudad inteligente, monitorea su salud y conecta con soluciones sostenibles impulsadas por IA.
                </p>

                <!-- ğŸ§  Recomendaciones de IA -->
                <div class="recommendations">
                    <h3>ğŸ§  Consejos de Micity</h3>
                    <ul id="recommendation-list">
                        <li>ğŸš´ Da un paseo corto, tu cuerpo y la Tierra te lo agradecerÃ¡n.</li>
                        <li>ğŸŒ³ Abraza un Ã¡rbol. No arreglarÃ¡ el trÃ¡fico, pero te harÃ¡ sonreÃ­r.</li>
                        <li>ğŸ’§ Bebe agua, no cafÃ©... bueno, tal vez uno para empezar el dÃ­a â˜•.</li>
                        <li>ğŸ›°ï¸ Recuerda: incluso los satÃ©lites necesitan descansar de tanto monitoreo.</li>
                    </ul>
                </div>

                <!-- ğŸŒ Tarjetas de datos simuladas -->
                <div class="city-stats">
                    <div class="stat-card">
                        <h4>ğŸŒ¡ï¸ 23Â°C</h4>
                        <p>Temperatura actual</p>
                    </div>
                    <div class="stat-card">
                        <h4>ğŸ’¨ Buena</h4>
                        <p>Calidad del aire</p>
                    </div>
                    <div class="stat-card">
                        <h4>ğŸš— Fluido</h4>
                        <p>TrÃ¡fico urbano</p>
                    </div>
                </div>

                <!-- ğŸŒ Mini mapa de vista previa -->
                <div class="data-card" style="margin-top:40px;">
                    <h3>ğŸ—ºï¸ Vista previa del mapa urbano</h3>
                    <p>Tu ubicaciÃ³n aproximada y zonas urbanas activas.</p>
                    <div id="map-preview" style="height: 300px; border-radius: 15px; margin-top: 15px;"></div>
                </div>
            </section>
        </main>
    </div>

    <!-- Script principal -->
    <script src="scripts/main.js"></script>

    <!-- ğŸŒ™ Script modo claro/oscuro -->
    <script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        document.body.classList.toggle("dark-mode");
        const isDark = document.body.classList.contains("dark-mode");
        document.getElementById("theme-toggle").textContent = isDark ? "â˜€ï¸" : "ğŸŒ™";
    });

    // === ğŸŒ Mini mapa urbano al cargar la pÃ¡gina ===
    document.addEventListener("DOMContentLoaded", () => {
        const map = L.map('map-preview').setView([0, 0], 2);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 18,
            attribution: '&copy; OpenStreetMap contributors'
        }).addTo(map);

        // Simular marcador divertido
        const jokeMarkers = [
            { coords: [40.7128, -74.0060], text: "ğŸ—½ NY: AquÃ­ el trÃ¡fico tiene su propio reloj." },
            { coords: [34.0522, -118.2437], text: "ğŸŒ´ LA: Donde el aire se mezcla con estrellas." },
            { coords: [-12.0464, -77.0428], text: "ğŸ‡µğŸ‡ª Lima: MÃ¡s claxon que aire puro... pero con sabor a ceviche!" }
        ];

        jokeMarkers.forEach(j => {
            L.marker(j.coords).addTo(map).bindPopup(`<b>${j.text}</b>`);
        });

        // Si tiene geolocalizaciÃ³n, centrar mapa
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(pos => {
                const { latitude, longitude } = pos.coords;
                map.setView([latitude, longitude], 12);
                L.marker([latitude, longitude]).addTo(map).bindPopup("ğŸ“ EstÃ¡s aquÃ­ (mÃ¡s o menos)").openPopup();
            });
        }
    });
    </script>
</body>
</html>
